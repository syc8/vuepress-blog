<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>弱点自记 | sansu-blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="技术博客">
    
    <link rel="preload" href="/assets/css/0.styles.9f84806b.css" as="style"><link rel="preload" href="/assets/js/app.0d0a43dc.js" as="script"><link rel="preload" href="/assets/js/2.778bb4ad.js" as="script"><link rel="preload" href="/assets/js/1.50b457b8.js" as="script"><link rel="preload" href="/assets/js/26.666ddd3b.js" as="script"><link rel="prefetch" href="/assets/js/10.325b9f09.js"><link rel="prefetch" href="/assets/js/11.c62b6b34.js"><link rel="prefetch" href="/assets/js/12.ecdb524b.js"><link rel="prefetch" href="/assets/js/13.52087e05.js"><link rel="prefetch" href="/assets/js/14.eb7a3d07.js"><link rel="prefetch" href="/assets/js/15.114dfd5c.js"><link rel="prefetch" href="/assets/js/16.85253907.js"><link rel="prefetch" href="/assets/js/17.c2838453.js"><link rel="prefetch" href="/assets/js/18.3256f17f.js"><link rel="prefetch" href="/assets/js/19.d8afd0ae.js"><link rel="prefetch" href="/assets/js/20.10e47ab9.js"><link rel="prefetch" href="/assets/js/21.33b300c9.js"><link rel="prefetch" href="/assets/js/22.b7c97fbe.js"><link rel="prefetch" href="/assets/js/23.7d067ebd.js"><link rel="prefetch" href="/assets/js/24.23621f4a.js"><link rel="prefetch" href="/assets/js/25.c0c326b8.js"><link rel="prefetch" href="/assets/js/27.ebabed47.js"><link rel="prefetch" href="/assets/js/28.608f477a.js"><link rel="prefetch" href="/assets/js/29.cc87c33a.js"><link rel="prefetch" href="/assets/js/3.af33e5d6.js"><link rel="prefetch" href="/assets/js/30.f6befe3c.js"><link rel="prefetch" href="/assets/js/31.5feae96f.js"><link rel="prefetch" href="/assets/js/32.f4b4d6e4.js"><link rel="prefetch" href="/assets/js/4.45665f8a.js"><link rel="prefetch" href="/assets/js/5.7098d77a.js"><link rel="prefetch" href="/assets/js/6.0c0a0f39.js"><link rel="prefetch" href="/assets/js/7.6a854e57.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9f84806b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">sansu-blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/2023专项复习/" class="nav-link">
  2023专项复习
</a></li><li class="dropdown-item"><!----> <a href="/interview/手写题/" class="nav-link">
  手写题
</a></li><li class="dropdown-item"><!----> <a href="/interview/输出打印题/" class="nav-link">
  输出打印题
</a></li><li class="dropdown-item"><!----> <a href="/interview/2020面试题1/" class="nav-link">
  2020面试题1
</a></li><li class="dropdown-item"><!----> <a href="/interview/2020面试题2/" class="nav-link">
  2020面试题2
</a></li><li class="dropdown-item"><!----> <a href="/interview/覆盘/" class="nav-link">
  覆盘
</a></li><li class="dropdown-item"><!----> <a href="/interview/性能优化/" class="nav-link">
  性能优化
</a></li></ul></div></div><div class="nav-item"><a href="/document/index/" class="nav-link">
  文档
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">react</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">react</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react/R/" class="nav-link">
  R
</a></li><li class="dropdown-item"><!----> <a href="/react/React+nextjs访问星/" class="nav-link">
  React+nextjs访问星
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/syc-xiaosu03" target="_self" class="nav-link external">
  github
  <!----></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/2023专项复习/" class="nav-link">
  2023专项复习
</a></li><li class="dropdown-item"><!----> <a href="/interview/手写题/" class="nav-link">
  手写题
</a></li><li class="dropdown-item"><!----> <a href="/interview/输出打印题/" class="nav-link">
  输出打印题
</a></li><li class="dropdown-item"><!----> <a href="/interview/2020面试题1/" class="nav-link">
  2020面试题1
</a></li><li class="dropdown-item"><!----> <a href="/interview/2020面试题2/" class="nav-link">
  2020面试题2
</a></li><li class="dropdown-item"><!----> <a href="/interview/覆盘/" class="nav-link">
  覆盘
</a></li><li class="dropdown-item"><!----> <a href="/interview/性能优化/" class="nav-link">
  性能优化
</a></li></ul></div></div><div class="nav-item"><a href="/document/index/" class="nav-link">
  文档
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">react</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">react</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react/R/" class="nav-link">
  R
</a></li><li class="dropdown-item"><!----> <a href="/react/React+nextjs访问星/" class="nav-link">
  React+nextjs访问星
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/syc-xiaosu03" target="_self" class="nav-link external">
  github
  <!----></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>弱点自记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#链表" class="sidebar-link">链表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#特点" class="sidebar-link">特点</a></li></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#profetch与dns-pro" class="sidebar-link">profetch与dns-pro</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#多进程之node-process" class="sidebar-link">多进程之node-process</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#jsbridge" class="sidebar-link">jsBridge</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#websocket" class="sidebar-link">webSocket</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#从输入url到网页显示发生了什么" class="sidebar-link">从输入url到网页显示发生了什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#_1-网络请求" class="sidebar-link">1.  网络请求</a></li><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#_2-继续请求静态资源" class="sidebar-link">2. 继续请求静态资源</a></li><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#_3-解析-字符串-结构化数据" class="sidebar-link">3. 解析：字符串 --&gt; 结构化数据</a></li><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#_4-渲染-render-tree-绘制到页面" class="sidebar-link">4. 渲染：Render Tree 绘制到页面</a></li><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#_5-总结" class="sidebar-link">5. 总结</a></li><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#重点" class="sidebar-link">重点</a></li></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#如何实现网页多标签通讯" class="sidebar-link">如何实现网页多标签通讯</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#websocket-需要服务端-成本较高" class="sidebar-link">WebSocket 需要服务端，成本较高</a></li><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#localstorage-简单易用-推荐" class="sidebar-link">localStorage 简单易用，推荐</a></li><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#sharedworker-调试不方便-不兼容-ie11" class="sidebar-link">SharedWorker 调试不方便，不兼容 IE11</a></li><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#网页和iframe之间通讯" class="sidebar-link">网页和iframe之间通讯</a></li></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#前端常用的设计模式" class="sidebar-link">前端常用的设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#观察者模式与发布订阅区别" class="sidebar-link">观察者模式与发布订阅区别</a></li></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#vue中做过的优化" class="sidebar-link">vue中做过的优化</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#如何统一监听vue组件报错" class="sidebar-link">如何统一监听Vue组件报错</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#如果一个h5很慢-如何排查性能问题" class="sidebar-link">如果一个h5很慢, 如何排查性能问题?</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#dns" class="sidebar-link">dns</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#new实现" class="sidebar-link">new实现</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#call-apply-bind实现" class="sidebar-link">call, apply, bind实现</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#小要点记录" class="sidebar-link">小要点记录</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#原型" class="sidebar-link">原型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#关于简历" class="sidebar-link">关于简历</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0.html#输出题打印结果" class="sidebar-link">输出题打印结果</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h4 id="弱点自记"><a href="#弱点自记" class="header-anchor">#</a> 弱点自记</h4> <ol><li><p>promise深度理解</p></li> <li><p>发布订阅是很多东西的低层东西, 学会可融会贯通</p></li> <li><p>㣲前端&amp;jsbridge</p></li></ol> <h2 id="链表"><a href="#链表" class="header-anchor">#</a> 链表</h2> <h3 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h3> <blockquote><p>链表结构是, 每个成员身上带有next或者prev指针, 分别指向不同的成员</p></blockquote> <p>1, 链表与数组结构上的区别</p> <p>数组是有序的 <strong>连续的;  查询快<code>o(1)</code>, 新增删除慢<code>o(n)</code></strong></p> <p>链表也是有序的, <strong>但是是零散的;  查询慢<code>o(n)</code>, 新增删除快<code>o(1)</code></strong></p> <p>2, set, map, object</p> <ul><li>object是无序的</li> <li>set也是无序的</li> <li>map是有序的</li></ul> <p>3, 链表通过表头的节点, 可得知整个结构</p> <p><strong>根据数组创建 单向链表</strong></p> <blockquote><p>节点之间是通过一种指针(next/prev),  单向串联起来的,</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 根据数组创建 单向链表</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">linkedListFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> arr <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> curNode <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">val</span><span class="token operator">:</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token literal-property property">next</span><span class="token operator">:</span> nextNode
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> nextNode <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">val</span><span class="token operator">:</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="profetch与dns-pro"><a href="#profetch与dns-pro" class="header-anchor">#</a> profetch与dns-pro</h2> <p><strong>preload 和 prefetch</strong></p> <ul><li>preload 资源在当前页面使用，会<strong>优先</strong>加载</li> <li>prefetch 资源在未来页面使用，<strong>空闲时</strong>加载</li></ul> <p><strong>dns-prefetch 和 preconnect</strong></p> <ul><li>dns-prefetch 即 DNS 预查询</li> <li>preconnect 即 DNS 预连接</li></ul> <h2 id="多进程之node-process"><a href="#多进程之node-process" class="header-anchor">#</a> 多进程之node-process</h2> <p>1.主进程</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/** /process.js
 * @description fork实现多线程 ('child_process').fork的方式开启多线程
 * 以下为主进程代码
 */</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;process&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 引入fork</span>
<span class="token keyword">const</span> fork <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;child_process&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fork<span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token operator">===</span><span class="token string">'/get-sum'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;主进程id&quot;</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">/* 开户子进程 */</span>
        <span class="token comment">// 1 创建子进程</span>
		<span class="token keyword">const</span> childProcess <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token string">&quot;./child_process.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2 告诉子进程开始运行, 并转入以参数</span>
		childProcess<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'开始计算'</span><span class="token punctuation">)</span>
        <span class="token comment">// 5 在主进程中监听子进程的动作</span>
        childProcess<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;主进程接收到子进程的信息&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;hellworld: &quot;</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        childProcess<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;子进程因报错而退出&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            childProcess<span class="token punctuation">.</span><span class="token function">kill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'localhost:3000'</span><span class="token punctuation">)</span>
    <span class="token comment">// console.time(&quot;process&quot;);</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>2.子进程</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/** /child_process.js
 * @description 子进程, 用于计算
 */</span>

<span class="token keyword">function</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum<span class="token operator">+=</span>i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 监听主进程的动作</span>
process<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;子进程id&quot;</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 3 子进程接收来自主进程的信息</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;子进程接收到的信息:&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 子进程准备好要回传的信息</span>
	<span class="token comment">// 4 子进程发送回传信息</span>
	process<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="jsbridge"><a href="#jsbridge" class="header-anchor">#</a> jsBridge</h2> <p>JSBridge是一种webview侧和native侧进行通信的手段，webview可以通过jsb调用native的能力，native也可以通过jsb在webview上执行一些逻辑。</p> <ol><li><p>注册全局api</p></li> <li><p>拦截 URL Scheme</p></li></ol> <h2 id="websocket"><a href="#websocket" class="header-anchor">#</a> webSocket</h2> <p><strong>是HTML5 提供的一种可以在单个 TCP 连接上进行全双工通讯的协议</strong></p> <p>特点:</p> <p>* 1. 双端通讯, ws协议传输</p> <p>* 2. 没有跨域限制</p> <p>* 3. 通过 send(发送) 和 onmessage(监听消息接收事件) 来进行通讯,不同与http的req,res;</p> <p>其原理是: 先建立一个http连接, 成功后升级成ws协议再进行传输通讯</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* 服务端 */</span>
<span class="token comment">// 引入websocker服务模块</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> WebSocketServer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ws&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建一个ws实例, 并指定监听端口</span>
<span class="token keyword">const</span> webServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocketServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 监听ws服务的连接</span>
webServer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;connection&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">ws</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ws<span class="token punctuation">)</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;已连接 connection&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// 监听客户端发送来的消息</span>
   ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   	console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;服务端收到的信息为: &quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   	<span class="token comment">// 服务端向客户端发送消息</span>
   	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   		ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;服务端收到了信息并推送&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>客户端</p> <div class="language-html extra-class"><pre class="language-html"><code>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>点击向服务商发送消息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
       <span class="token comment">/* 客户端 */</span>

       <span class="token comment">// 创建一个websocket实例, 协议必须是ws协议</span>
       <span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://127.0.0.1:3000'</span><span class="token punctuation">)</span>
       <span class="token comment">// websocket连接成功的回调事件: 在这里可向服务端发送消息</span>
       ws<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
           console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'客户端建立连接: opened'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'客户端发建立连接成功'</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
       <span class="token comment">// 接收服务端推送消息的回调事件: (event.data为服务端传递的数据)</span>
       ws<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token parameter">event</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
           console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
           console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'客户端收到了服务端推送为: '</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token comment">// 点击时向服务商发送消息</span>
       <span class="token keyword">const</span> sendBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
       sendBtn<span class="token operator">?.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
           console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'clicked'</span><span class="token punctuation">)</span>
           ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'clicked当前时间为: '</span> <span class="token operator">+</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span>
   </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="从输入url到网页显示发生了什么"><a href="#从输入url到网页显示发生了什么" class="header-anchor">#</a> 从输入url到网页显示发生了什么</h2> <h3 id="_1-网络请求"><a href="#_1-网络请求" class="header-anchor">#</a> 1.  网络请求</h3> <ul><li>DNS查询（得到IP），建立TCP连接（三次握手）</li> <li>浏览器发起 HTTP 请求</li> <li>收到请求响应，得到 HTML 源代码</li></ul> <h3 id="_2-继续请求静态资源"><a href="#_2-继续请求静态资源" class="header-anchor">#</a> 2. 继续请求静态资源</h3> <ul><li>解析HTML过程中，遇到静态资源还会继续发起网络请求</li> <li>JS CSS 图片 视频等</li> <li>注意：静态资源可能有强缓存，此时不必请求</li></ul> <h3 id="_3-解析-字符串-结构化数据"><a href="#_3-解析-字符串-结构化数据" class="header-anchor">#</a> 3. 解析：字符串 --&gt; 结构化数据</h3> <ul><li>HTML构建DOM树</li> <li>CSS构建CSSOM树（style tree）</li> <li>两者结合，形成 render tree</li></ul> <p><strong>解析过程很复杂</strong></p> <ul><li>css 可能来自 <code>&lt;style&gt; &lt;link&gt;</code></li> <li>JS可能内嵌、外链，还有 <code>defer</code> <code>async</code> 逻辑</li> <li><code>&lt;img&gt;</code>可能内嵌（base64）,可能外链</li></ul> <p><strong>优化解析</strong></p> <ol><li>css 放在<code>&lt;head&gt;</code>中，不要异步加载css</li> <li>JS放在<code>&lt;body&gt;</code>最下面（或合理使用<code>defer</code> <code>async</code>）</li> <li><code>&lt;img&gt;</code>提前定义 <code>width</code> <code>height</code></li></ol> <h3 id="_4-渲染-render-tree-绘制到页面"><a href="#_4-渲染-render-tree-绘制到页面" class="header-anchor">#</a> 4. 渲染：Render Tree 绘制到页面</h3> <ol><li>计算各个DOM的尺寸、定位、最后绘制到页面</li> <li>遇到 JS 可能会执行（参考<code>defer</code> <code>async</code>）</li> <li>异步CSS、图片加载，可能会触发重新渲染</li></ol> <h3 id="_5-总结"><a href="#_5-总结" class="header-anchor">#</a> 5. 总结</h3> <ol><li>网络请求：DNS解析，HTTP请求</li> <li>解析：DOM树，CSSOM树，Render Tree</li> <li>渲染：计算、绘制，同时执行JS</li></ol> <h3 id="重点"><a href="#重点" class="header-anchor">#</a> 重点</h3> <ul><li>现代浏览器的渲染机制非常复杂，不要纠细节</li> <li>要深入理解 “字符串 --&gt;  结构化数据“ 这一步</li> <li>能画出那张流程图</li></ul> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image050.jpg" alt="clip_image050"></p> <h2 id="如何实现网页多标签通讯"><a href="#如何实现网页多标签通讯" class="header-anchor">#</a> 如何实现网页多标签通讯</h2> <h3 id="websocket-需要服务端-成本较高"><a href="#websocket-需要服务端-成本较高" class="header-anchor">#</a> WebSocket 需要服务端，成本较高</h3> <h3 id="localstorage-简单易用-推荐"><a href="#localstorage-简单易用-推荐" class="header-anchor">#</a> localStorage 简单易用，推荐</h3> <h3 id="sharedworker-调试不方便-不兼容-ie11"><a href="#sharedworker-调试不方便-不兼容-ie11" class="header-anchor">#</a> SharedWorker 调试不方便，不兼容 IE11</h3> <ul><li>SharedWorker 是 WebWorker 的一种</li> <li>WebWorker 可开启子进程执行 JS，但不能操作 DOM</li> <li>SharedWorker 可单独开启一个进程，用于同域页面通讯</li></ul> <h3 id="网页和iframe之间通讯"><a href="#网页和iframe之间通讯" class="header-anchor">#</a> 网页和iframe之间通讯</h3> <blockquote><p>使用postMessage通讯, 注意跨域的限制和判断</p> <p>父页面向iframe发送消息:</p> <p><strong>window.iframe.contentWindow</strong>**.postMessage(&quot;**<strong>来自父页面的消息&quot;, &quot;*&quot;)</strong></p> <p>iframe向父页面发送消息:</p> <p><strong>window.parent</strong>**.postMessage(&quot;**<strong>来自iframe页的消息&quot;, &quot;*&quot;)</strong></p></blockquote> <p><strong>示例</strong></p> <p><strong>父页面中:</strong></p> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image002-1704645741698.jpg" alt="img"></p> <p><strong>iframe子页面中:</strong></p> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image002-1704645673013.jpg" alt="img"></p> <p><strong>Koa2</strong></p> <ul><li><p>一个简约、流行的nodejs框架</p></li> <li><p>通过中间件组织代码</p></li> <li><p>多个中间件以“洋葱圈模型”执行</p></li></ul> <h2 id="前端常用的设计模式"><a href="#前端常用的设计模式" class="header-anchor">#</a> 前端常用的设计模式</h2> <ul><li>工厂模式</li> <li>单例模式</li> <li>代理模式</li> <li>观察者模式</li> <li>发布订阅模式</li> <li>装饰器模式</li></ul> <h3 id="观察者模式与发布订阅区别"><a href="#观察者模式与发布订阅区别" class="header-anchor">#</a> 观察者模式与发布订阅区别</h3> <p><strong>观察者模式</strong></p> <ul><li>Subject和Observer直接绑定，没有中间媒介</li> <li>如addEventlistener绑定事件</li></ul> <p><strong>发布订阅</strong></p> <p>Publisher和Observer互不相识，需要中间媒介 Event channel</p> <ul><li>如EventBus自定义事件</li></ul> <h2 id="vue中做过的优化"><a href="#vue中做过的优化" class="header-anchor">#</a> vue中做过的优化</h2> <h5 id="v-if-和-v-show"><a href="#v-if-和-v-show" class="header-anchor">#</a> v-if 和 v-show</h5> <h5 id="v-for-使用-key"><a href="#v-for-使用-key" class="header-anchor">#</a> v-for 使用 key</h5> <h5 id="computed-缓存数据"><a href="#computed-缓存数据" class="header-anchor">#</a> computed 缓存数据</h5> <h5 id="keep-alive-缓存组件"><a href="#keep-alive-缓存组件" class="header-anchor">#</a> keep-alive 缓存组件</h5> <h5 id="异步组件-路由懒加载"><a href="#异步组件-路由懒加载" class="header-anchor">#</a> 异步组件 路由懒加载</h5> <h5 id="ssr"><a href="#ssr" class="header-anchor">#</a> SSR</h5> <h2 id="如何统一监听vue组件报错"><a href="#如何统一监听vue组件报错" class="header-anchor">#</a> 如何统一监听Vue组件报错</h2> <p><strong>window.onerror</strong></p> <ul><li>全局监听所有JS错误</li> <li>但是它是JS级别的，识别不了Vue组件信息</li> <li>捕捉一些Vue监听不到的错误</li></ul> <p><strong>errorCaptured生命周期</strong></p> <ul><li>监听所有下级组件的错误</li> <li>返回false会组上向上传播</li></ul> <p><strong>errorHandler配置</strong></p> <ul><li>Vue全局错误监听，所有组件错误都会汇总到这里</li> <li>但errorCaptured返回false,不会传播到这里</li></ul> <p><strong>异步错误</strong></p> <ul><li>异步回调里的错误， errorHandler监听不到</li> <li>需要使用window.onerror</li></ul> <p><strong>总结</strong></p> <ul><li>errorCaptured 监听下级组件错误，返回 false 阻止向上传播</li> <li>errorHandle 监听全局Vue组件的错误</li> <li>window.onerror 监听其它 JS 错误，如异步</li></ul> <h2 id="如果一个h5很慢-如何排查性能问题"><a href="#如果一个h5很慢-如何排查性能问题" class="header-anchor">#</a> 如果一个h5很慢, 如何排查性能问题?</h2> <h4 id="_1、分析性能指标-找到慢的原因"><a href="#_1、分析性能指标-找到慢的原因" class="header-anchor">#</a> 1、分析性能指标，找到慢的原因</h4> <p><strong>先了解前端性能指标:</strong></p> <blockquote><p><strong>1. First Paint(FP)</strong> <strong>开始渲染</strong></p> <p><strong>2. First Contentful Paint(FCP)</strong> <strong>第一次有内容(哪怕一个字符)的渲染</strong></p> <p><strong>3. First Meaningful Paint(FMP)</strong> <strong>第一次有意义(大概的页面内容出现了)的渲染(已弃用,改用LCP)</strong></p> <p><strong>4. DomContentLoaded(DCL)</strong> <strong>页面的dom全部渲染完成</strong></p> <p><strong>5. Largest Contentful Paint (LCP)</strong> <strong>页面大部分内容都已渲染完了</strong></p> <p><strong>6. Load (L)  window.onload****事件</strong></p></blockquote> <p><strong>通过工具分析性能指标, 工具有以下:</strong></p> <blockquote><p>**1. Performance (**<strong>浏览器)</strong></p> <p>**2. Network (**<strong>浏览器)</strong></p> <p>**3. Lighthouse (**<strong>流行的第三方性能评测, 支持移动&amp;PC)</strong></p></blockquote> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image002-1704646012774.jpg" alt="img"></p> <h4 id="_2、对症下药-解决问题"><a href="#_2、对症下药-解决问题" class="header-anchor">#</a> 2、对症下药，解决问题</h4> <p><strong>网页加载慢则</strong></p> <ul><li>优化服务端硬件配置，使用CDN</li> <li>路由懒加载，大组件异步加载——减少主包的体积</li> <li>优化HTTP缓存策略</li></ul> <p><strong>网页渲染慢则</strong></p> <ul><li>优化服务端接口（如 Ajax 获取数据慢）</li> <li>继续分析，优化前端组件内部的逻辑（参考Vue React优化）</li> <li>服务端渲染 SSR</li></ul> <h4 id="_3、持续跟进-持续优化"><a href="#_3、持续跟进-持续优化" class="header-anchor">#</a> 3、持续跟进，持续优化</h4> <ul><li>性能优化是一个循序渐进的过程，不像bug一次性解决</li> <li>持续跟进统计结果，再逐步分析性能瓶颈，持续优化</li> <li>可使用第三方统计服务，如阿里云ARMS、百度统计</li></ul> <h2 id="dns"><a href="#dns" class="header-anchor">#</a> dns</h2> <h4 id="dns-预解析"><a href="#dns-预解析" class="header-anchor">#</a> dns 预解析</h4> <p><strong>DNS预解析</strong>（<code>dns-prefetch</code> ）是前端网络性能优化的一种措施，它根据浏览器定义的规则，<strong>提前解析</strong>之后可能会用到的域名，使解析结果<strong>缓存到系统缓存</strong>中，缩短DNS解析时间，进而提高网站的访问速度。</p> <blockquote><p>DNS预解析能够让浏览器在用户访问链接之前解析域名，其范围包括文档的所有链接，包括图片、CSS、JS；域名解析后，如果用户确实访问该域名，那么DNS解析时间将不会有延迟。因为预读取会在后台执行，所以DNS很可能在链接对应的东西出现之前就已经解析完毕，这能够减少用户点击链接时的延迟。</p></blockquote> <p><strong>原理</strong></p> <p>当浏览器访问一个域名的时候，需要解析一次 DNS，获得对应域名的 ip 地址；在解析过程中，按照如下的顺序逐步读取缓存，直到拿到IP地址：</p> <ul><li>浏览器缓存</li> <li>系统缓存</li> <li>路由器缓存</li> <li>ISP(运营商)DNS缓存</li> <li>根域名服务器</li> <li>顶级域名服务器</li> <li>主域名服务器</li></ul> <h2 id="new实现"><a href="#new实现" class="header-anchor">#</a> new实现</h2> <ol><li>声明一个空对象</li> <li>新对象继承指定函数的prototype</li> <li>将指定函数的this指向新对象, 并拿到返回值</li> <li>若返回值是对象类型, 则将返回值return, 若不是则返回这个新对象</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 模拟new关键字的函数</span>
<span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">Fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// const obj = {};</span>
	<span class="token comment">// obj.__proto__ = Fn.prototype; y这一步等于  obj = Object.create(Fn.prototype)</span>
	<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">Fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> result <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> result<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 功能测试</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">firtName<span class="token punctuation">,</span> lastName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>firtName <span class="token operator">=</span> firtName<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token string">&quot;demo&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> tb2 <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> <span class="token string">'Chen2'</span><span class="token punctuation">,</span> <span class="token string">'Tianbao2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tb2<span class="token punctuation">)</span>
</code></pre></div><h2 id="call-apply-bind实现"><a href="#call-apply-bind实现" class="header-anchor">#</a> call, apply, bind实现</h2> <h4 id="call"><a href="#call" class="header-anchor">#</a> call</h4> <p><strong>思路分析</strong>  如何在函数执行时绑定this</p> <blockquote><ul><li>如 <code>const obj = {x: 100, fn(){this.x}}</code></li> <li>执行 <code>obj.fn()</code> ,  此时 <code>fn</code>内部的 <code>this</code> 就指向 <code>obj</code></li> <li>可借此来实现函数绑定 <code>this</code></li></ul></blockquote> <p><strong>手写代码:</strong></p> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image002-1704646181152.jpg" alt="img"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// //传递参数从一个数组变成逐个传参了,不用...扩展运算符的也可以用arguments代替</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//这里默认不传就是给window,也可以用es6给参数设置默认参数</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window
  args <span class="token operator">=</span> args <span class="token operator">?</span> args <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">//给context新增一个独一无二的属性以免覆盖原有属性</span>
  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  context<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token comment">//通过隐式绑定的方式调用函数</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
  <span class="token comment">//删除添加的属性</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
  <span class="token comment">//返回函数调用的返回值</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ifer'</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token comment">// { name: 'ifer' }</span>
<span class="token punctuation">}</span>
foo<span class="token punctuation">.</span><span class="token function">myCall</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="apply"><a href="#apply" class="header-anchor">#</a> apply</h4> <p>与call思路一致,  不同之处在于args(不用加...汇集成数组了, 本身就是数组)</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_this <span class="token operator">=</span> window<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// _this =&gt; window or o</span>
    <span class="token comment">// this =&gt; foo</span>
    _this<span class="token punctuation">.</span>_this <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token comment">// val =&gt; [1, 2]</span>
    <span class="token comment">// o.foo(...[1, 2])</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> _this<span class="token punctuation">.</span><span class="token function">_this</span><span class="token punctuation">(</span><span class="token operator">...</span>val<span class="token punctuation">)</span>
    <span class="token keyword">delete</span> _this<span class="token punctuation">.</span>_this
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span>
<span class="token punctuation">}</span>
fn2<span class="token punctuation">.</span><span class="token function">myApply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="bind"><a href="#bind" class="header-anchor">#</a> bind</h4> <p><strong>思路分析:</strong></p> <ol><li>返回一个新函数，但不执行</li> <li>绑定 this 各部分参数</li> <li>如是箭头函数，无法改变 this，只能改变参数</li></ol> <p><strong>手写代码:</strong></p> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image002-1704646356094.jpg" alt="img"></p> <h2 id="小要点记录"><a href="#小要点记录" class="header-anchor">#</a> 小要点记录</h2> <h4 id="foreach如何在不改变原数组的情况下跳出循环"><a href="#foreach如何在不改变原数组的情况下跳出循环" class="header-anchor">#</a> forEach如何在不改变原数组的情况下跳出循环</h4> <p>forEach的三人特性</p> <blockquote><ol><li><p>forEach的回调函数在执行之前已经确定的数组范围（范围）: 因为执行的数组跟传入回调函数中的数据是两个</p></li> <li><p>回调函数中的值对应的永远是当前</p></li> <li><p>当回调函数中传入的值不存在， 循环会结束</p></li></ol></blockquote> <p>方法1、throw Error抛出异常来停止循环</p> <p>方法2、循环中用splice将数组清空，值不存在时便会跳出(之后将清空的成员重新赋值给原数组，保存原数组的不变)</p> <div class="language- extra-class"><pre class="language-text"><code>var arr = [0, 1, 2, 3, 4, 5]; 
arr.forEach((item, i) =&gt; { 
	console.log(&quot;object&quot;, i); 
	// 当执行到目标项时, 将后面的把arr中的全部成员截取掉，清空数组 
	if (i == 3) { 
		// (截取后将清空的成员重新赋值给原数组，保存原数组的不变) 
		arr = arr.splice(0); 
	} 
});
</code></pre></div><h4 id="arguments-args"><a href="#arguments-args" class="header-anchor">#</a> arguments ==&gt; args</h4> <ul><li>类数组, 可迭代有length, 无数组的方法</li> <li>在函数中作为形参, 如果原本是非数组的集合, 接收时可用...将其集合在一起以数组使用;</li></ul> <h4 id="promise"><a href="#promise" class="header-anchor">#</a> promise</h4> <ol><li>promise.then中如果没有return的不是一个Promise, 或者没return, 将会自行returnPromise出去;</li></ol> <h2 id="原型"><a href="#原型" class="header-anchor">#</a> 原型</h2> <ol><li>只有函数对象才有prototype, 普通对象没有</li> <li>可以被new的, 都是Function类型的;</li> <li>查找原型链先年数据类型</li></ol> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/v14co11_20241223213514.png" alt=""></p> <h2 id="关于简历"><a href="#关于简历" class="header-anchor">#</a> 关于简历</h2> <p>关于亮点理解:</p> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image002.jpg" alt="img"></p> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image004.jpg" alt="img"></p> <p>投递技巧</p> <ol><li><p>自我介绍简洁明确</p></li> <li><p>收藏岗位可置顶</p></li> <li><p>招呼语尽量自定义</p></li> <li><p>投递时间</p></li></ol> <p><img src="/img/2023%E4%B8%93%E9%A1%B9%E5%A4%8D%E4%B9%A0/clip_image006.jpg" alt="img"></p> <h3 id="输出题打印结果"><a href="#输出题打印结果" class="header-anchor">#</a> 输出题打印结果</h3> <ol><li>答案: 2 4 1 1 2 3</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0d0a43dc.js" defer></script><script src="/assets/js/2.778bb4ad.js" defer></script><script src="/assets/js/1.50b457b8.js" defer></script><script src="/assets/js/26.666ddd3b.js" defer></script>
  </body>
</html>
